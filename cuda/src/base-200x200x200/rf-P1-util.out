/g/g90/choi18/.bashrc: line 15: module: command not found
/g/g90/choi18/.bashrc: line 16: module: command not found
/g/g90/choi18/.bashrc: line 17: module: command not found
Fri Jul  5 18:34:17 PDT 2019
lassen147
Job ID is 360206
gpuroofperf-tool v.0.9.0 (CLI)


------- Running kernel inspection -------
Executing: nvprof
Executing: nvprof --devices all --query-metrics
Retrieving GPU information... Done, took 0.46 seconds
Profiling on GPU: Tesla V100-SXM2-16GB
Invocation: "/g/g90/choi18/miniFE/cuda/src/miniFE.x --num_devices 1 -nx 200 -ny 200 -nz 200"
Executing: jsrun -n1 -a1 -g1 -c40 -r1 nvprof -u ms --demangling off --csv --log-file tmp-simple-360206-%q{OMPI_COMM_WORLD_RANK}.csv /g/g90/choi18/miniFE/cuda/src/miniFE.x --num_devices 1 -nx 200 -ny 200 -nz 200
Running simple profiling... Done, took 3.28 seconds
GPU kernel functions invoked:
1. _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ (Time(%):68.76, 719.0320 msecs, 201 invocations)
2. _ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_ (Time(%):13.21, 138.1210 msecs, 602 invocations)
3. _ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_ (Time(%):8.83, 92.3481 msecs, 1 invocations)
4. _ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE (Time(%):4.46, 46.6396 msecs, 400 invocations)
5. _ZN6miniFE30impose_dirichlet_second_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvNT_10ScalarTypeES5_T0_PNS5_17GlobalOrdinalTypeES8_ (Time(%):1.08, 11.3442 msecs, 2 invocations)
6. _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ (Time(%):0.92, 9.5771 msecs, 201 invocations)
7. _ZN6miniFE32generate_matrix_structure_kernelINS_7PODMeshIiEENS_12PODELLMatrixIdiiEEEEvT_T0_iii (Time(%):0.36, 3.7128 msecs, 1 invocations)
8. _ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_ (Time(%):0.23, 2.4441 msecs, 9 invocations)
9. _ZN6miniFE29impose_dirichlet_first_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvNT_10ScalarTypeES5_T0_PNS5_17GlobalOrdinalTypeES8_S8_S8_ (Time(%):0.14, 1.4806 msecs, 2 invocations)
10. _ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIiEEiEEmEES9_mEEvT0_T1_ (Time(%):0.10, 1.0835 msecs, 7 invocations)
11. _ZN6miniFE23dot_final_reduce_kernelIdEEvPT_ (Time(%):0.09, 0.9180 msecs, 400 invocations)
12. _ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i (Time(%):0.05, 0.4998 msecs, 400 invocations)
13. _ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_6__fill7functorINS_6detail15normal_iteratorINS_10device_ptrIdEEEEiEElEESC_lEEvT0_T1_ (Time(%):0.01, 0.0782 msecs, 1 invocations)
Total percentage: 98.24%
Selected percentage: 90.80% (92.43% of total)
Selected kernels: "_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_", "_ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_", "_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
Executing: jsrun -n1 -a1 -g1 -c40 -r1 nvprof -u ms --csv --demangling off --log-file tmp-metric-360206-%q{OMPI_COMM_WORLD_RANK}.csv --kernels _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ --metrics dram_utilization,sysmem_utilization,shared_utilization,l2_utilization,tex_utilization,ldst_fu_utilization,cf_fu_utilization,tex_fu_utilization,special_fu_utilization,single_precision_fu_utilization,double_precision_fu_utilization,sysmem_read_utilization,sysmem_write_utilization --kernels _ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_ --metrics dram_utilization,sysmem_utilization,shared_utilization,l2_utilization,tex_utilization,ldst_fu_utilization,cf_fu_utilization,tex_fu_utilization,special_fu_utilization,single_precision_fu_utilization,double_precision_fu_utilization,sysmem_read_utilization,sysmem_write_utilization --kernels _ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_ --metrics dram_utilization,sysmem_utilization,shared_utilization,l2_utilization,tex_utilization,ldst_fu_utilization,cf_fu_utilization,tex_fu_utilization,special_fu_utilization,single_precision_fu_utilization,double_precision_fu_utilization,sysmem_read_utilization,sysmem_write_utilization /g/g90/choi18/miniFE/cuda/src/miniFE.x --num_devices 1 -nx 200 -ny 200 -nz 200
Running metric profiling (utilization, 13 total metrics)... Done, took 525.32 seconds
Kernel inspection done!
Executing: nvidia-smi -q
Querying GPU driver version (via nvidia-smi)... 
_ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_
Warning: Low utilizations observed (highest utilizations dram_utilization:4). Low utilizations potentially express other latencies that cannot be captured by the model.
Done

_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ utilization info
dram_utilization: 9
sysmem_utilization: 1
shared_utilization: 0
l2_utilization: 2
tex_utilization: 1
ldst_fu_utilization: 1
cf_fu_utilization: 1
tex_fu_utilization: 0
special_fu_utilization: 0
single_precision_fu_utilization: 1
double_precision_fu_utilization: 1
sysmem_read_utilization: 0
sysmem_write_utilization: 1

_ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_ utilization info
dram_utilization: 4
sysmem_utilization: 1
shared_utilization: 0
l2_utilization: 1
tex_utilization: 1
ldst_fu_utilization: 1
cf_fu_utilization: 1
tex_fu_utilization: 0
special_fu_utilization: 1
single_precision_fu_utilization: 1
double_precision_fu_utilization: 2
sysmem_read_utilization: 0
sysmem_write_utilization: 1

_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_ utilization info
dram_utilization: 9
sysmem_utilization: 1
shared_utilization: 0
l2_utilization: 2
tex_utilization: 1
ldst_fu_utilization: 1
cf_fu_utilization: 1
tex_fu_utilization: 0
special_fu_utilization: 0
single_precision_fu_utilization: 1
double_precision_fu_utilization: 1
sysmem_read_utilization: 0
sysmem_write_utilization: 1

Done

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 360206: <rf-g1-util> in cluster <lassen> Done

Job <rf-g1-util> was submitted from host <lassen709> by user <choi18> in cluster <lassen> at Fri Jul  5 12:51:40 2019
Job was executed on host(s) <1*lassen710>, in queue <pbatch>, as user <choi18> in cluster <lassen> at Fri Jul  5 18:34:13 2019
                            <40*lassen147>
</g/g90/choi18> was used as the home directory.
</g/g90/choi18/miniFE/cuda/src> was used as the working directory.
Started at Fri Jul  5 18:34:13 2019
Terminated at Fri Jul  5 18:43:48 2019
Results reported at Fri Jul  5 18:43:48 2019

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash

#BSUB -nnodes 1
#BSUB -core_isolation 2
#BSUB -W 120
#BSUB -G asccasc
#BSUB -J rf-g1-util
#BSUB -q pbatch

date; hostname
echo -n 'Job ID is '; echo $LSB_JOBID
cd /g/g90/choi18/gpuroofperf-toolkit/tool

python3 gpuroofperf-cli.py -x "jsrun -n1 -a1 -g1 -c40 -r1" -u /g/g90/choi18/miniFE/cuda/src/miniFE.x --num_devices 1 -nx 200 -ny 200 -nz 200

echo 'Done'

------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.30 sec.
    Max Memory :                                 56 MB
    Average Memory :                             55.38 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1421 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   576 sec.
    Turnaround time :                            21128 sec.

The output (if any) is above this job summary.

