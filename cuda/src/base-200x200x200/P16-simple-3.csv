==40516== NVPROF is profiling process 40516, command: ./miniFE.x --num_devices 4 -nx 800 -ny 800 -nz 200
==40516== Profiling application: ./miniFE.x --num_devices 4 -nx 800 -ny 800 -nz 200
==40516== Profiling result:
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"GPU activities",76.099594,763.204347,201,3.797036,3.788164,3.825123,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",13.625968,136.655106,602,0.227001,0.154431,0.230847,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.641627,46.550967,400,0.116377,0.083423,0.149663,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",3.777641,37.886037,201,0.188487,0.185855,0.194335,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",1.270844,12.745317,601,0.021206,0.001280,0.145535,"[CUDA memcpy DtoH]"
"GPU activities",0.424155,4.253859,201,0.021163,0.011200,0.032160,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"GPU activities",0.089714,0.899742,400,0.002249,0.002144,0.002656,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.047194,0.473311,400,0.001183,0.001119,0.001952,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.023263,0.233309,4,0.058327,0.001632,0.079679,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",77.393058,532.373030,601,0.885812,0.059997,3.956939,"cudaEventSynchronize"
"API calls",13.814442,95.027082,2409,0.039446,0.022194,11.272115,"cudaLaunchKernel"
"API calls",3.897721,26.811724,4,6.702931,0.038489,8.963179,"cudaMalloc"
"API calls",2.288322,15.740959,601,0.026191,0.018175,0.049613,"cudaMemcpyAsync"
"API calls",1.143958,7.869084,3,2.623028,2.301266,2.851203,"cudaFree"
"API calls",0.640284,4.404400,802,0.005491,0.003815,0.007156,"cudaEventRecord"
"API calls",0.352632,2.425693,402,0.006034,0.003783,0.010583,"cudaStreamWaitEvent"
"API calls",0.298519,2.053462,2009,0.001022,0.000519,0.003412,"cudaGetLastError"
"API calls",0.079858,0.549327,3,0.183109,0.062554,0.408433,"cudaHostRegister"
"API calls",0.072337,0.497592,2,0.248796,0.040403,0.457189,"cudaHostUnregister"
"API calls",0.012824,0.088217,4,0.022054,0.021394,0.023039,"cudaFuncGetAttributes"
"API calls",0.002216,0.015242,4,0.003810,0.002068,0.007437,"cudaDeviceGetAttribute"
"API calls",0.001957,0.013462,4,0.003365,0.002457,0.004603,"cudaGetDevice"
"API calls",0.001871,0.012873,8,0.001609,0.000557,0.005574,"cudaPeekAtLastError"

==40516== NVTX result:
==40516==   Thread "<unnamed>" (id = 312240)
==40516==     Domain "<unnamed>"
==40516==       Range "Allocation of Temporary Vectors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,82.878875,1,82.878875,82.878875,82.878875,"Allocation of Temporary Vectors"
"GPU activities",100.000000,0.231677,3,0.077225,0.075743,0.079679,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",100.000000,11.409040,3,3.803013,0.039163,11.272115,"cudaLaunchKernel"

==40516==       Range "Create external_local_index"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,10.302159,1,10.302159,10.302159,10.302159,"Create external_local_index"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "MPI All Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,59.136423,401,0.147472,0.011888,2.856383,"MPI All Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "MPI Communication"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,27.283040,2,13.641520,0.813810,26.469230,"MPI Communication"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "MPI Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,39.533172,1,39.533172,39.533172,39.533172,"MPI Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "Set External Processors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,36.931328,1,36.931328,36.931328,36.931328,"Set External Processors"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "add to recv_list"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.002430,1,0.002430,0.002430,0.002430,"add to recv_list"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "allocate device memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,97.256560,1,97.256560,97.256560,97.256560,"allocate device memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "allocate host memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,189.910472,1,189.910472,189.910472,189.910472,"allocate host memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "allocation"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,5.995308,1,5.995308,5.995308,5.995308,"allocation"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "assemble FE data"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,148.618402,1,148.618402,148.618402,148.618402,"assemble FE data"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "assign new external"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1.901361,2,0.950680,0.333229,1.568132,"assign new external"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "begin exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,20.443844,201,0.101710,0.085682,0.137169,"begin exchange"
"GPU activities",74.179196,12.220682,201,0.060799,0.043392,0.145535,"[CUDA memcpy DtoH]"
"GPU activities",25.820804,4.253859,201,0.021163,0.011200,0.032160,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"API calls",57.092665,7.151289,201,0.035578,0.027577,0.044213,"cudaLaunchKernel"
"API calls",42.907335,5.374469,201,0.026738,0.020938,0.049613,"cudaMemcpyAsync"

==40516==       Range "cgsolve"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1301.049629,1,1301.049629,1301.049629,1301.049629,"cgsolve"
"GPU activities",76.099594,763.204347,201,3.797036,3.788164,3.825123,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",13.625968,136.655106,602,0.227001,0.154431,0.230847,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.641627,46.550967,400,0.116377,0.083423,0.149663,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",3.777641,37.886037,201,0.188487,0.185855,0.194335,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",1.270844,12.745317,601,0.021206,0.001280,0.145535,"[CUDA memcpy DtoH]"
"GPU activities",0.424155,4.253859,201,0.021163,0.011200,0.032160,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"GPU activities",0.089714,0.899742,400,0.002249,0.002144,0.002656,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.047194,0.473311,400,0.001183,0.001119,0.001952,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.023263,0.233309,4,0.058327,0.001632,0.079679,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",85.789259,95.027082,2409,0.039446,0.022194,11.272115,"cudaLaunchKernel"
"API calls",14.210741,15.740959,601,0.026191,0.018175,0.049613,"cudaMemcpyAsync"

==40516==       Range "create recv list"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1.676864,1,1.676864,1.676864,1.676864,"create recv list"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "create tmp_neighbors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,2.585254,1,2.585254,2.585254,2.585254,"create tmp_neighbors"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "end exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,907.087909,201,4.512875,1.410549,5.047155,"end exchange"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "exterier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,8.289378,201,0.041240,0.030043,0.049670,"exterier region"
"GPU activities",100.000000,37.886037,201,0.188487,0.185855,0.194335,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,7.438118,201,0.037005,0.026909,0.045520,"cudaLaunchKernel"

==40516==       Range "generate matrix structure"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,320.512243,1,320.512243,320.512243,320.512243,"generate matrix structure"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "impose boundary conditions"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,10.667639,1,10.667639,10.667639,10.667639,"impose boundary conditions"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "interier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,7.978873,201,0.039695,0.029437,0.051311,"interier region"
"GPU activities",100.000000,763.204347,201,3.797036,3.788164,3.825123,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,7.259328,201,0.036116,0.026851,0.047716,"cudaLaunchKernel"

==40516==       Range "make local matrix"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,187.012930,1,187.012930,187.012930,187.012930,"make local matrix"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40516==       Range "reserve space in A"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,99.256842,1,99.256842,99.256842,99.256842,"reserve space in A"
No kernels were profiled in this range.
No API activities were profiled in this range.

