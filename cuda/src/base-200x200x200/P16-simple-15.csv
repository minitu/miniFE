==40517== NVPROF is profiling process 40517, command: ./miniFE.x --num_devices 4 -nx 800 -ny 800 -nz 200
==40517== Profiling application: ./miniFE.x --num_devices 4 -nx 800 -ny 800 -nz 200
==40517== Profiling result:
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"GPU activities",76.410978,782.757737,201,3.894317,3.884792,3.902711,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",13.632390,139.650857,602,0.231978,0.159038,0.235582,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.619903,47.326505,400,0.118316,0.084351,0.152766,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",3.160418,32.375472,201,0.161072,0.159423,0.165983,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",1.648472,16.887024,601,0.028098,0.001279,0.128927,"[CUDA memcpy DtoH]"
"GPU activities",0.371591,3.806591,201,0.018938,0.009120,0.030624,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"GPU activities",0.087377,0.895093,400,0.002237,0.002143,0.002688,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.045610,0.467230,400,0.001168,0.001119,0.001536,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.023262,0.238301,4,0.059575,0.001408,0.080351,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",76.737980,512.248077,601,0.852326,0.078886,4.098924,"cudaEventSynchronize"
"API calls",14.243984,95.082690,2409,0.039469,0.020760,11.256970,"cudaLaunchKernel"
"API calls",3.797247,25.347713,4,6.336928,0.034752,8.571797,"cudaMalloc"
"API calls",2.427037,16.201172,601,0.026957,0.017480,0.035923,"cudaMemcpyAsync"
"API calls",1.295059,8.644892,3,2.881630,2.607896,3.274703,"cudaFree"
"API calls",0.654727,4.370489,802,0.005449,0.003220,0.007477,"cudaEventRecord"
"API calls",0.358718,2.394544,402,0.005956,0.003432,0.008519,"cudaStreamWaitEvent"
"API calls",0.304060,2.029685,2009,0.001010,0.000529,0.003547,"cudaGetLastError"
"API calls",0.082789,0.552641,3,0.184213,0.057330,0.429272,"cudaHostRegister"
"API calls",0.075349,0.502975,2,0.251487,0.043690,0.459285,"cudaHostUnregister"
"API calls",0.017336,0.115722,4,0.028930,0.021490,0.044670,"cudaFuncGetAttributes"
"API calls",0.002685,0.017925,4,0.004481,0.003538,0.006976,"cudaGetDevice"
"API calls",0.001807,0.012062,4,0.003015,0.002697,0.003455,"cudaDeviceGetAttribute"
"API calls",0.001222,0.008158,8,0.001019,0.000582,0.001553,"cudaPeekAtLastError"

==40517== NVTX result:
==40517==   Thread "<unnamed>" (id = 312240)
==40517==     Domain "<unnamed>"
==40517==       Range "Allocation of Temporary Vectors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,83.130401,1,83.130401,83.130401,83.130401,"Allocation of Temporary Vectors"
"GPU activities",100.000000,0.236893,3,0.078964,0.078079,0.080351,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",100.000000,11.396730,3,3.798910,0.033764,11.256970,"cudaLaunchKernel"

==40517==       Range "Create external_local_index"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,6.382322,1,6.382322,6.382322,6.382322,"Create external_local_index"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "MPI All Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,73.324639,401,0.182854,0.008491,8.418817,"MPI All Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "MPI Communication"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,32.283150,2,16.141575,1.638589,30.644561,"MPI Communication"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "MPI Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,49.510804,1,49.510804,49.510804,49.510804,"MPI Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "Set External Processors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,36.996329,1,36.996329,36.996329,36.996329,"Set External Processors"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "add to recv_list"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.002158,1,0.002158,0.002158,0.002158,"add to recv_list"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "allocate device memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,67.561189,1,67.561189,67.561189,67.561189,"allocate device memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "allocate host memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,167.014586,1,167.014586,167.014586,167.014586,"allocate host memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "allocation"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,3.447007,1,3.447007,3.447007,3.447007,"allocation"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "assemble FE data"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,146.655441,1,146.655441,146.655441,146.655441,"assemble FE data"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "assign new external"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.945891,2,0.472945,0.135602,0.810289,"assign new external"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "begin exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,20.445725,201,0.101720,0.084460,0.123704,"begin exchange"
"GPU activities",81.129202,16.365269,201,0.081419,0.050176,0.128927,"[CUDA memcpy DtoH]"
"GPU activities",18.870798,3.806591,201,0.018938,0.009120,0.030624,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"API calls",57.375339,7.317256,201,0.036404,0.026990,0.046465,"cudaLaunchKernel"
"API calls",42.624661,5.436056,201,0.027045,0.019583,0.035923,"cudaMemcpyAsync"

==40517==       Range "cgsolve"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1302.018817,1,1302.018817,1302.018817,1302.018817,"cgsolve"
"GPU activities",76.410978,782.757737,201,3.894317,3.884792,3.902711,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",13.632390,139.650857,602,0.231978,0.159038,0.235582,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.619903,47.326505,400,0.118316,0.084351,0.152766,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",3.160418,32.375472,201,0.161072,0.159423,0.165983,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",1.648472,16.887024,601,0.028098,0.001279,0.128927,"[CUDA memcpy DtoH]"
"GPU activities",0.371591,3.806591,201,0.018938,0.009120,0.030624,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"GPU activities",0.087377,0.895093,400,0.002237,0.002143,0.002688,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.045610,0.467230,400,0.001168,0.001119,0.001536,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.023262,0.238301,4,0.059575,0.001408,0.080351,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",85.441580,95.082690,2409,0.039469,0.020760,11.256970,"cudaLaunchKernel"
"API calls",14.558420,16.201172,601,0.026957,0.017480,0.035923,"cudaMemcpyAsync"

==40517==       Range "create recv list"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.945676,1,0.945676,0.945676,0.945676,"create recv list"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "create tmp_neighbors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1.388851,1,1.388851,1.388851,1.388851,"create tmp_neighbors"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "end exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,901.221609,201,4.483689,1.031944,5.017150,"end exchange"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "exterier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,8.168119,201,0.040637,0.031572,0.054326,"exterier region"
"GPU activities",100.000000,32.375472,201,0.161072,0.159423,0.165983,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,7.342271,201,0.036528,0.028230,0.049848,"cudaLaunchKernel"

==40517==       Range "generate matrix structure"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,461.818620,1,461.818620,461.818620,461.818620,"generate matrix structure"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "impose boundary conditions"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,15.797298,1,15.797298,15.797298,15.797298,"impose boundary conditions"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "interier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,7.887847,201,0.039243,0.027977,0.051711,"interier region"
"GPU activities",100.000000,782.757737,201,3.894317,3.884792,3.902711,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,7.172323,201,0.035683,0.025214,0.047635,"cudaLaunchKernel"

==40517==       Range "make local matrix"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,181.984159,1,181.984159,181.984159,181.984159,"make local matrix"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40517==       Range "reserve space in A"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,100.729095,1,100.729095,100.729095,100.729095,"reserve space in A"
No kernels were profiled in this range.
No API activities were profiled in this range.

