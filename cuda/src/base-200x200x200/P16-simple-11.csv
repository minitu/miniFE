==40518== NVPROF is profiling process 40518, command: ./miniFE.x --num_devices 4 -nx 800 -ny 800 -nz 200
==40518== Profiling application: ./miniFE.x --num_devices 4 -nx 800 -ny 800 -nz 200
==40518== Profiling result:
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"GPU activities",76.430247,782.719772,201,3.894128,3.883548,3.903163,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",13.582622,139.099212,602,0.231061,0.159071,0.234526,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.617896,47.291732,400,0.118229,0.084127,0.152606,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",3.277323,33.562967,201,0.166979,0.165438,0.175998,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",1.559419,15.969963,601,0.026572,0.001248,0.119775,"[CUDA memcpy DtoH]"
"GPU activities",0.374082,3.830967,201,0.019059,0.008703,0.032928,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"GPU activities",0.087175,0.892761,400,0.002231,0.002144,0.002624,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.048076,0.492348,400,0.001230,0.001184,0.002272,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.023157,0.237151,4,0.059287,0.001376,0.080000,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",76.978103,521.992279,601,0.868539,0.053781,4.819789,"cudaEventSynchronize"
"API calls",14.062520,95.358633,2409,0.039584,0.021581,11.330382,"cudaLaunchKernel"
"API calls",3.735501,25.330614,4,6.332653,0.035338,8.669775,"cudaMalloc"
"API calls",2.360851,16.009049,601,0.026637,0.017312,0.109551,"cudaMemcpyAsync"
"API calls",1.393328,9.448228,3,3.149409,2.286176,3.841421,"cudaFree"
"API calls",0.641730,4.351602,802,0.005425,0.003537,0.007347,"cudaEventRecord"
"API calls",0.353249,2.395400,402,0.005958,0.003313,0.014267,"cudaStreamWaitEvent"
"API calls",0.299961,2.034047,2009,0.001012,0.000500,0.003517,"cudaGetLastError"
"API calls",0.082128,0.556911,3,0.185637,0.048371,0.435440,"cudaHostRegister"
"API calls",0.075240,0.510209,2,0.255104,0.045694,0.464515,"cudaHostUnregister"
"API calls",0.012319,0.083537,4,0.020884,0.016534,0.024286,"cudaFuncGetAttributes"
"API calls",0.001820,0.012343,4,0.003085,0.002094,0.004275,"cudaGetDevice"
"API calls",0.001714,0.011623,8,0.001452,0.000578,0.004439,"cudaPeekAtLastError"
"API calls",0.001536,0.010414,4,0.002603,0.001823,0.003517,"cudaDeviceGetAttribute"

==40518== NVTX result:
==40518==   Thread "<unnamed>" (id = 312240)
==40518==     Domain "<unnamed>"
==40518==       Range "Allocation of Temporary Vectors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,83.035026,1,83.035026,83.035026,83.035026,"Allocation of Temporary Vectors"
"GPU activities",100.000000,0.235775,3,0.078591,0.077600,0.080000,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",100.000000,11.453095,3,3.817698,0.058778,11.330382,"cudaLaunchKernel"

==40518==       Range "Create external_local_index"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,3.667964,1,3.667964,3.667964,3.667964,"Create external_local_index"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "MPI All Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,75.226171,401,0.187596,0.009138,11.076596,"MPI All Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "MPI Communication"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,31.327082,2,15.663541,1.437630,29.889452,"MPI Communication"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "MPI Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,44.409439,1,44.409439,44.409439,44.409439,"MPI Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "Set External Processors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,36.953730,1,36.953730,36.953730,36.953730,"Set External Processors"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "add to recv_list"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.001584,1,0.001584,0.001584,0.001584,"add to recv_list"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "allocate device memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,99.255262,1,99.255262,99.255262,99.255262,"allocate device memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "allocate host memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,167.767994,1,167.767994,167.767994,167.767994,"allocate host memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "allocation"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,3.225773,1,3.225773,3.225773,3.225773,"allocation"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "assemble FE data"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,157.916656,1,157.916656,157.916656,157.916656,"assemble FE data"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "assign new external"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1.062422,2,0.531211,0.133811,0.928611,"assign new external"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "begin exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,20.306670,201,0.101028,0.082500,0.190437,"begin exchange"
"GPU activities",80.128592,15.447823,201,0.076854,0.046624,0.119775,"[CUDA memcpy DtoH]"
"GPU activities",19.871408,3.830967,201,0.019059,0.008703,0.032928,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"API calls",57.216321,7.242260,201,0.036031,0.026198,0.048145,"cudaLaunchKernel"
"API calls",42.783679,5.415422,201,0.026942,0.019017,0.109551,"cudaMemcpyAsync"

==40518==       Range "cgsolve"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1302.871340,1,1302.871340,1302.871340,1302.871340,"cgsolve"
"GPU activities",76.430247,782.719772,201,3.894128,3.883548,3.903163,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",13.582622,139.099212,602,0.231061,0.159071,0.234526,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.617896,47.291732,400,0.118229,0.084127,0.152606,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",3.277323,33.562967,201,0.166979,0.165438,0.175998,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",1.559419,15.969963,601,0.026572,0.001248,0.119775,"[CUDA memcpy DtoH]"
"GPU activities",0.374082,3.830967,201,0.019059,0.008703,0.032928,"_ZN6miniFE20copyElementsToBufferIdiEEvPT_S2_PT0_i"
"GPU activities",0.087175,0.892761,400,0.002231,0.002144,0.002624,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.048076,0.492348,400,0.001230,0.001184,0.002272,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.023157,0.237151,4,0.059287,0.001376,0.080000,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",85.625050,95.358633,2409,0.039584,0.021581,11.330382,"cudaLaunchKernel"
"API calls",14.374950,16.009049,601,0.026637,0.017312,0.109551,"cudaMemcpyAsync"

==40518==       Range "create recv list"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.949559,1,0.949559,0.949559,0.949559,"create recv list"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "create tmp_neighbors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1.399350,1,1.399350,1.399350,1.399350,"create tmp_neighbors"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "end exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,901.079914,201,4.482984,0.981210,5.091280,"end exchange"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "exterier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,8.288717,201,0.041237,0.031967,0.054119,"exterier region"
"GPU activities",100.000000,33.562967,201,0.166979,0.165438,0.175998,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,7.451655,201,0.037072,0.028676,0.049127,"cudaLaunchKernel"

==40518==       Range "generate matrix structure"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,460.240031,1,460.240031,460.240031,460.240031,"generate matrix structure"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "impose boundary conditions"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,16.960217,1,16.960217,16.960217,16.960217,"impose boundary conditions"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "interier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,7.945575,201,0.039530,0.028458,0.047951,"interier region"
"GPU activities",100.000000,782.719772,201,3.894128,3.883548,3.903163,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,7.231600,201,0.035978,0.025907,0.043850,"cudaLaunchKernel"

==40518==       Range "make local matrix"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,166.006002,1,166.006002,166.006002,166.006002,"make local matrix"
No kernels were profiled in this range.
No API activities were profiled in this range.

==40518==       Range "reserve space in A"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,100.758960,1,100.758960,100.758960,100.758960,"reserve space in A"
No kernels were profiled in this range.
No API activities were profiled in this range.

