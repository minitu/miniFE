==36052== NVPROF is profiling process 36052, command: ./miniFE.x --num_devices 1 -nx 400 -ny 400 -nz 200
==36052== Profiling application: ./miniFE.x --num_devices 1 -nx 400 -ny 400 -nz 200
==36052== Profiling result:
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"GPU activities",71.515377,3123.943883,201,15.542009,15.508076,15.651052,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",12.628681,551.647670,602,0.916358,0.632507,0.921593,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",7.654826,334.379078,1,334.379078,334.379078,334.379078,"_ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_"
"GPU activities",4.103643,179.255878,400,0.448139,0.310589,0.585819,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",1.448903,63.291178,402,0.157440,0.001664,50.000908,"[CUDA memcpy DtoH]"
"GPU activities",0.938807,41.009103,2,20.504551,19.056626,21.952477,"_ZN6miniFE30impose_dirichlet_second_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvNT_10ScalarTypeES5_T0_PNS5_17GlobalOrdinalTypeES8_"
"GPU activities",0.714999,31.232662,201,0.155386,0.154878,0.155999,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",0.341543,14.919345,1,14.919345,14.919345,14.919345,"_ZN6miniFE32generate_matrix_structure_kernelINS_7PODMeshIiEENS_12PODELLMatrixIdiiEEEEvT_T0_iii"
"GPU activities",0.226252,9.883158,8,1.235394,0.001376,9.762391,"[CUDA memcpy HtoD]"
"GPU activities",0.221773,9.687511,9,1.076390,0.001088,8.219043,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"GPU activities",0.097998,4.280768,7,0.611538,0.001248,3.977314,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIiEEiEEmEES9_mEEvT0_T1_"
"GPU activities",0.068885,3.009034,2,1.504517,1.409846,1.599188,"_ZN6miniFE29impose_dirichlet_first_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvNT_10ScalarTypeES5_T0_PNS5_17GlobalOrdinalTypeES8_S8_S8_"
"GPU activities",0.020786,0.907962,400,0.002269,0.002207,0.002496,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.010818,0.472540,400,0.001181,0.001120,0.001504,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"GPU activities",0.006710,0.293086,1,0.293086,0.293086,0.293086,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_6__fill7functorINS_6detail15normal_iteratorINS_10device_ptrIdEEEEiEElEESC_lEEvT0_T1_"
"API calls",79.249603,3862.964450,601,6.427561,0.005314,17.359457,"cudaEventSynchronize"
"API calls",8.317257,405.418681,16,25.338667,0.013374,334.649488,"cudaFree"
"API calls",5.309101,258.788271,2,129.394135,0.005503,258.782768,"cudaStreamCreate"
"API calls",4.676247,227.940278,17,13.408251,0.006932,129.120464,"cudaMalloc"
"API calls",1.032296,50.318504,10,5.031850,0.007187,49.960502,"cudaDeviceSynchronize"
"API calls",0.563024,27.444191,2227,0.012323,0.009072,0.047951,"cudaLaunchKernel"
"API calls",0.560079,27.300652,409,0.066749,0.007332,12.796828,"cudaMemcpyAsync"
"API calls",0.141071,6.876425,3,2.292141,0.031520,6.359663,"cudaHostRegister"
"API calls",0.038184,1.861228,2,0.930614,0.019644,1.841584,"cudaHostUnregister"
"API calls",0.035642,1.737344,1,1.737344,1.737344,1.737344,"cudaGetDeviceProperties"
"API calls",0.025777,1.256475,96,0.013088,0.000218,0.512290,"cuDeviceGetAttribute"
"API calls",0.020675,1.007766,1,1.007766,1.007766,1.007766,"cuDeviceTotalMem"
"API calls",0.014270,0.695562,401,0.001734,0.001514,0.003691,"cudaEventRecord"
"API calls",0.009130,0.445023,1617,0.000275,0.000207,0.002791,"cudaGetLastError"
"API calls",0.002391,0.116531,17,0.006854,0.004911,0.010043,"cudaFuncGetAttributes"
"API calls",0.002251,0.109704,1,0.109704,0.109704,0.109704,"cuDeviceGetName"
"API calls",0.000773,0.037680,2,0.018840,0.010918,0.026762,"cudaStreamDestroy"
"API calls",0.000571,0.027857,18,0.001547,0.000674,0.007900,"cudaGetDevice"
"API calls",0.000383,0.018667,17,0.001098,0.000609,0.001697,"cudaDeviceGetAttribute"
"API calls",0.000297,0.014464,1,0.014464,0.014464,0.014464,"cudaSetDevice"
"API calls",0.000223,0.010882,34,0.000320,0.000194,0.000765,"cudaPeekAtLastError"
"API calls",0.000223,0.010866,2,0.005433,0.001628,0.009238,"cudaEventDestroy"
"API calls",0.000167,0.008154,1,0.008154,0.008154,0.008154,"cudaMemcpyToSymbolAsync"
"API calls",0.000160,0.007816,1,0.007816,0.007816,0.007816,"cuDeviceGetPCIBusId"
"API calls",0.000071,0.003453,2,0.001726,0.001248,0.002205,"cudaEventCreateWithFlags"
"API calls",0.000051,0.002474,3,0.000824,0.000592,0.001276,"cuDeviceGetCount"
"API calls",0.000032,0.001580,1,0.001580,0.001580,0.001580,"cudaThreadSetCacheConfig"
"API calls",0.000027,0.001321,1,0.001321,0.001321,0.001321,"cudaDeviceSetSharedMemConfig"
"API calls",0.000025,0.001205,2,0.000602,0.000336,0.000869,"cuDeviceGet"

==36052== NVTX result:
==36052==   Thread "<unnamed>" (id = 312240)
==36052==     Domain "<unnamed>"
==36052==       Range "Allocation of Temporary Vectors"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,69.193425,1,69.193425,69.193425,69.193425,"Allocation of Temporary Vectors"
"GPU activities",100.000000,0.878616,3,0.292872,0.292765,0.292989,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",100.000000,0.113036,3,0.037678,0.035313,0.039828,"cudaLaunchKernel"

==36052==       Range "MPI All Reduce"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.493342,400,0.001233,0.001023,0.005476,"MPI All Reduce"
No kernels were profiled in this range.
No API activities were profiled in this range.

==36052==       Range "allocate device memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,195.428022,1,195.428022,195.428022,195.428022,"allocate device memory"
"GPU activities",66.574308,8.219043,1,8.219043,8.219043,8.219043,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"GPU activities",33.425692,4.126625,2,2.063312,0.149311,3.977314,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIiEEiEEmEES9_mEEvT0_T1_"
"API calls",100.000000,0.084942,3,0.028314,0.023467,0.037262,"cudaLaunchKernel"

==36052==       Range "allocate host memory"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,445.992300,1,445.992300,445.992300,445.992300,"allocate host memory"
No kernels were profiled in this range.
No API activities were profiled in this range.

==36052==       Range "assemble FE data"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,442.221476,1,442.221476,442.221476,442.221476,"assemble FE data"
"GPU activities",97.078519,334.379078,1,334.379078,334.379078,334.379078,"_ZN6miniFE19element_loop_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEENS_7PODMeshIiEEEEvT1_NT_17GlobalOrdinalTypeEPKS9_S8_T0_PKNS8_10ScalarTypeESF_"
"GPU activities",2.835629,9.767095,4,2.441773,0.001408,9.762391,"[CUDA memcpy HtoD]"
"GPU activities",0.085090,0.293086,1,0.293086,0.293086,0.293086,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_6__fill7functorINS_6detail15normal_iteratorINS_10device_ptrIdEEEEiEElEESC_lEEvT0_T1_"
"GPU activities",0.000762,0.002624,2,0.001312,0.001088,0.001536,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"API calls",99.019587,9.902636,3,3.300878,0.007332,9.880373,"cudaMemcpyAsync"
"API calls",0.898879,0.089894,4,0.022473,0.012978,0.035553,"cudaLaunchKernel"
"API calls",0.081534,0.008154,1,0.008154,0.008154,0.008154,"cudaMemcpyToSymbolAsync"

==36052==       Range "begin exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.086766,201,0.000431,0.000375,0.000897,"begin exchange"
No kernels were profiled in this range.
No API activities were profiled in this range.

==36052==       Range "cgsolve"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,3977.551643,1,3977.551643,3977.551643,3977.551643,"cgsolve"
"GPU activities",80.327182,3123.943883,201,15.542009,15.508076,15.651052,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",14.184731,551.647670,602,0.916358,0.632507,0.921593,"_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_"
"GPU activities",4.609276,179.255878,400,0.448139,0.310589,0.585819,"_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
"GPU activities",0.803098,31.232662,201,0.155386,0.154878,0.155999,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"GPU activities",0.023347,0.907962,400,0.002269,0.002207,0.002496,"_ZN6miniFE23dot_final_reduce_kernelIdEEvPT_"
"GPU activities",0.022632,0.880152,4,0.220038,0.001536,0.292989,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"GPU activities",0.017585,0.683868,400,0.001709,0.001664,0.002496,"[CUDA memcpy DtoH]"
"GPU activities",0.012151,0.472540,400,0.001181,0.001120,0.001504,"_ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i"
"API calls",86.174895,26.969158,2208,0.012214,0.009072,0.039828,"cudaLaunchKernel"
"API calls",13.825105,4.326683,400,0.010816,0.008785,0.018937,"cudaMemcpyAsync"

==36052==       Range "end exchange"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,1.427915,201,0.007104,0.006617,0.029869,"end exchange"
No kernels were profiled in this range.
No API activities were profiled in this range.

==36052==       Range "exterier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,2.754905,201,0.013705,0.011630,0.017618,"exterier region"
"GPU activities",100.000000,31.232662,201,0.155386,0.154878,0.155999,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,2.550079,201,0.012686,0.010625,0.016287,"cudaLaunchKernel"

==36052==       Range "generate matrix structure"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,707.433517,1,707.433517,707.433517,707.433517,"generate matrix structure"
"GPU activities",69.549581,62.607310,2,31.303655,12.606402,50.000908,"[CUDA memcpy DtoH]"
"GPU activities",16.573691,14.919345,1,14.919345,14.919345,14.919345,"_ZN6miniFE32generate_matrix_structure_kernelINS_7PODMeshIiEENS_12PODELLMatrixIdiiEEEEvT_T0_iii"
"GPU activities",9.130419,8.219043,1,8.219043,8.219043,8.219043,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"GPU activities",4.746309,4.272544,3,1.424181,0.145919,3.977314,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIiEEiEEmEES9_mEEvT0_T1_"
"API calls",99.001156,12.822999,2,6.411499,0.026171,12.796828,"cudaMemcpyAsync"
"API calls",0.998844,0.129374,5,0.025874,0.020978,0.037262,"cudaLaunchKernel"

==36052==       Range "impose boundary conditions"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,64.163131,1,64.163131,64.163131,64.163131,"impose boundary conditions"
"GPU activities",92.914455,41.009103,2,20.504551,19.056626,21.952477,"_ZN6miniFE30impose_dirichlet_second_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvNT_10ScalarTypeES5_T0_PNS5_17GlobalOrdinalTypeES8_"
"GPU activities",6.817578,3.009034,2,1.504517,1.409846,1.599188,"_ZN6miniFE29impose_dirichlet_first_kernelINS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvNT_10ScalarTypeES5_T0_PNS5_17GlobalOrdinalTypeES8_S8_S8_"
"GPU activities",0.255859,0.112927,2,0.056463,0.010464,0.102463,"[CUDA memcpy HtoD]"
"GPU activities",0.012108,0.005344,2,0.002672,0.001728,0.003616,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIiEEiEEmEES9_mEEvT0_T1_"
"API calls",65.537651,0.221126,2,0.110563,0.031552,0.189574,"cudaMemcpyAsync"
"API calls",34.462349,0.116277,6,0.019379,0.011089,0.039225,"cudaLaunchKernel"

==36052==       Range "interier region"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,2.861136,201,0.014234,0.012320,0.017589,"interier region"
"GPU activities",100.000000,3123.943883,201,15.542009,15.508076,15.651052,"_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_"
"API calls",100.000000,2.652736,201,0.013197,0.011333,0.016470,"cudaLaunchKernel"

==36052==       Range "make local matrix"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,0.027895,1,0.027895,0.027895,0.027895,"make local matrix"
No kernels were profiled in this range.
No API activities were profiled in this range.

==36052==       Range "reserve space in A"
"Type","Time(%)","Time","Calls","Avg","Min","Max","Name"
,%,ms,,ms,ms,ms,
"Range:",100.000000,198.460894,1,198.460894,198.460894,198.460894,"reserve space in A"
"GPU activities",65.796628,8.219043,1,8.219043,8.219043,8.219043,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_"
"GPU activities",34.203372,4.272544,3,1.424181,0.145919,3.977314,"_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIiEEiEEmEES9_mEEvT0_T1_"
"API calls",100.000000,0.105920,4,0.026480,0.020978,0.037262,"cudaLaunchKernel"

