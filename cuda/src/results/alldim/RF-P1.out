/g/g90/choi18/.bashrc: line 15: module: command not found
/g/g90/choi18/.bashrc: line 16: module: command not found
/g/g90/choi18/.bashrc: line 17: module: command not found
Mon Jul 15 16:53:24 PDT 2019
lassen733
Job ID is 377732
gpuroofperf-tool v.0.9.0 (CLI)


------- Running kernel inspection -------
Executing: nvprof
Executing: nvprof --devices all --query-metrics
Retrieving GPU information... Done, took 0.44 seconds
Profiling on GPU: Tesla V100-SXM2-16GB
Invocation: "/g/g90/choi18/miniFE/cuda/src/miniFE.x.l1off --num_devices 1 -nx 200 -ny 200 -nz 200"
Executing: jsrun -n1 -a1 -g1 -c40 -r1 nvprof -u ms --profile-from-start off --demangling off --csv --log-file tmp-simple-377732-%q{OMPI_COMM_WORLD_RANK}.csv /g/g90/choi18/miniFE/cuda/src/miniFE.x.l1off --num_devices 1 -nx 200 -ny 200 -nz 200
Running simple profiling... Done, took 2.09 seconds
GPU kernel functions invoked:
1. _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ (Time(%):79.92, 10.6844 msecs, 3 invocations)
2. _ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_ (Time(%):12.70, 1.6977 msecs, 8 invocations)
3. _ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE (Time(%):4.23, 0.5650 msecs, 5 invocations)
4. _ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_ (Time(%):1.76, 0.2353 msecs, 4 invocations)
5. _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ (Time(%):1.21, 0.1621 msecs, 3 invocations)
6. _ZN6miniFE23dot_final_reduce_kernelIdEEvPT_ (Time(%):0.07, 0.0100 msecs, 4 invocations)
7. _ZN6miniFE17cudaMemset_kernelIdEEvPT_S1_i (Time(%):0.05, 0.0062 msecs, 5 invocations)
Total percentage: 99.94%
Selected percentage: 99.82% (99.88% of total)
Selected kernels: "_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_", "_ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_", "_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_", "_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_", "_ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE"
Executing: jsrun -n1 -a1 -g1 -c40 -r1 nvprof -u ms --profile-from-start off --csv --demangling off --log-file tmp-metric-377732-%q{OMPI_COMM_WORLD_RANK}.csv --kernels _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ --metrics l2_read_transactions,l2_write_transactions,dram_read_transactions,dram_write_transactions,flop_count_dp,flop_count_dp_add,flop_count_dp_fma,flop_count_dp_mul,flop_count_sp,flop_count_sp_add,flop_count_sp_fma,flop_count_sp_mul,flop_count_sp_special,inst_executed,inst_fp_32,inst_fp_64,inst_integer,inst_compute_ld_st --kernels _ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_ --metrics l2_read_transactions,l2_write_transactions,dram_read_transactions,dram_write_transactions,flop_count_dp,flop_count_dp_add,flop_count_dp_fma,flop_count_dp_mul,flop_count_sp,flop_count_sp_add,flop_count_sp_fma,flop_count_sp_mul,flop_count_sp_special,inst_executed,inst_fp_32,inst_fp_64,inst_integer,inst_compute_ld_st --kernels _ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_ --metrics l2_read_transactions,l2_write_transactions,dram_read_transactions,dram_write_transactions,flop_count_dp,flop_count_dp_add,flop_count_dp_fma,flop_count_dp_mul,flop_count_sp,flop_count_sp_add,flop_count_sp_fma,flop_count_sp_mul,flop_count_sp_special,inst_executed,inst_fp_32,inst_fp_64,inst_integer,inst_compute_ld_st --kernels _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_ --metrics l2_read_transactions,l2_write_transactions,dram_read_transactions,dram_write_transactions,flop_count_dp,flop_count_dp_add,flop_count_dp_fma,flop_count_dp_mul,flop_count_sp,flop_count_sp_add,flop_count_sp_fma,flop_count_sp_mul,flop_count_sp_special,inst_executed,inst_fp_32,inst_fp_64,inst_integer,inst_compute_ld_st --kernels _ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE --metrics l2_read_transactions,l2_write_transactions,dram_read_transactions,dram_write_transactions,flop_count_dp,flop_count_dp_add,flop_count_dp_fma,flop_count_dp_mul,flop_count_sp,flop_count_sp_add,flop_count_sp_fma,flop_count_sp_mul,flop_count_sp_special,inst_executed,inst_fp_32,inst_fp_64,inst_integer,inst_compute_ld_st /g/g90/choi18/miniFE/cuda/src/miniFE.x.l1off --num_devices 1 -nx 200 -ny 200 -nz 200
Running metric profiling (all, 18 total metrics)... Done, took 44.76 seconds
Kernel inspection done!
Executing: nvidia-smi -q
Querying GPU driver version (via nvidia-smi)... 
_ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_
Warning: Significantly low execution time per kernel invocation (0.235263 msecs for 4 invocations). Unpredictable overheads be non negligible in situations where the execution time of a kernel invocation gets very short.

_ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_
Warning: Significantly low execution time per kernel invocation (0.162143 msecs for 3 invocations). Unpredictable overheads be non negligible in situations where the execution time of a kernel invocation gets very short.
Done

Kernel parameters saved to  "miniFE-P1.json"

------- Primary kernel parameters -------
Kernel name: _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE0ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_
	Kernel type:            Floating point (DP)
	Compute operations:     1312386084 ops
	DRAM accesses:          8557186368 bytes
	Computation efficiency: 1.00000
	Instruction mix:
		Computations:    5.14%
		Load/Stores:    15.82%
		Other:          79.04%

Kernel name: _ZN6miniFE13waxpby_kernelINS_9PODVectorIdiiEEEEvNT_10ScalarTypeES3_S4_S3_S3_
	Kernel type:            Floating point (DP)
	Compute operations:     194894424 ops
	DRAM accesses:          1423015680 bytes
	Computation efficiency: 0.75000
	Instruction mix:
		Computations:    9.52%
		Load/Stores:    14.29%
		Other:          76.19%

Kernel name: _ZN6thrust8cuda_cub4core13_kernel_agentINS0_14__parallel_for16ParallelForAgentINS0_20__uninitialized_fill7functorINS_10device_ptrIdEEdEEmEES9_mEEvT0_T1_
	Kernel type:            Integer
	Compute operations:     316720984 ops
	DRAM accesses:          194004352 bytes
	Computation efficiency: 0.50000
	Instruction mix:
		Computations:   74.29%
		Load/Stores:     5.71%
		Other:          20.00%

Kernel name: _ZN6miniFE25matvec_overlap_ell_kernelILNS_12MATVEC_RANGEE1ENS_12PODELLMatrixIdiiEENS_9PODVectorIdiiEEEEvT0_T1_S7_
	Kernel type:            Integer
	Compute operations:     267981912 ops
	DRAM accesses:          103584672 bytes
	Computation efficiency: 0.50000
	Instruction mix:
		Computations:   50.00%
		Load/Stores:     4.55%
		Other:          45.45%

Kernel name: _ZN6miniFE10dot_kernelINS_9PODVectorIdiiEEEEvT_S3_PNS_10TypeTraitsINS3_10ScalarTypeEE14magnitude_typeE
	Kernel type:            Floating point (DP)
	Compute operations:     83822330 ops
	DRAM accesses:          468004160 bytes
	Computation efficiency: 0.96973
	Instruction mix:
		Computations:    7.23%
		Load/Stores:    14.89%
		Other:          77.88%

Done

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 377732: <rf-g1> in cluster <lassen> Done

Job <rf-g1> was submitted from host <lassen708> by user <choi18> in cluster <lassen> at Mon Jul 15 15:00:26 2019
Job was executed on host(s) <1*lassen710>, in queue <pbatch>, as user <choi18> in cluster <lassen> at Mon Jul 15 16:53:20 2019
                            <40*lassen733>
</g/g90/choi18> was used as the home directory.
</g/g90/choi18/miniFE/cuda/src> was used as the working directory.
Started at Mon Jul 15 16:53:20 2019
Terminated at Mon Jul 15 16:54:31 2019
Results reported at Mon Jul 15 16:54:31 2019

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash

#BSUB -nnodes 1
#BSUB -core_isolation 2
#BSUB -W 240
#BSUB -G asccasc
#BSUB -J rf-g1
#BSUB -q pbatch

date; hostname
echo -n 'Job ID is '; echo $LSB_JOBID
cd /g/g90/choi18/gpuroofperf-toolkit/tool

python3 gpuroofperf-cli.py -x "jsrun -n1 -a1 -g1 -c40 -r1" -o miniFE-P1.json /g/g90/choi18/miniFE/cuda/src/miniFE.x.l1off --num_devices 1 -nx 200 -ny 200 -nz 200

echo 'Done'

------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.31 sec.
    Max Memory :                                 56 MB
    Average Memory :                             51.33 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1421 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   72 sec.
    Turnaround time :                            6845 sec.

The output (if any) is above this job summary.

